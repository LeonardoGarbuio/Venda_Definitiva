d!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Cardápio - MotoDelivery</title>
    <link rel="stylesheet" href="../css/main.css" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet" />
<script type="module" src="https://static.rocket.new/rocket-web.js?_cfg=https%3A%2F%2Fmotodelive8457back.builtwithrocket.new&_be=https%3A%2F%2Fapplication.rocket.new&_v=0.1.8"></script>
</head>
<body class="min-h-screen bg-background">
    <!-- Sticky Header -->
    <header class="sticky top-0 z-40 bg-white shadow-subtle border-b border-gray-100">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <!-- Logo -->
                <div class="flex items-center space-x-3">
                    <div class="bg-primary text-white p-2 rounded-lg">
                        <i class="fas fa-motorcycle text-xl"></i>
                    </div>
                    <div>
                        <h1 class="text-xl font-heading font-bold text-secondary">MotoDelivery</h1>
                        <p class="text-xs text-text-secondary">Delivery Rápido</p>
                    </div>
                </div>
                
                <!-- Cart Summary -->
                <div class="flex items-center space-x-4">
                    <div id="cartSummary" class="hidden md:flex items-center space-x-2 text-sm text-text-secondary">
                        <i class="fas fa-shopping-cart text-primary"></i>
                        <span id="cartItemCount">0 itens</span>
                        <span class="text-primary font-semibold" id="cartTotal">R$ 0,00</span>
                    </div>
                    
                    <!-- Navigation Links -->
                    <nav class="hidden md:flex items-center space-x-4">
                        <a href="/motoboys/register/" class="text-text-secondary hover:text-primary transition-colors duration-200">
                            <i class="fas fa-user-plus mr-1"></i>Motoboy
                        </a>
                                                 <a href="/login/" class="text-text-secondary hover:text-primary transition-colors duration-200">
                             <i class="fas fa-shield-alt mr-1"></i>Admin
                         </a>
                    </nav>

                    <!-- Mobile Menu Button -->
                    <button class="md:hidden text-text-secondary hover:text-primary" onclick="toggleMobileMenu()">
                        <i class="fas fa-bars text-xl"></i>
                    </button>
                </div>
            </div>
        </div>

        <!-- Mobile Navigation -->
        <div id="mobileMenu" class="md:hidden hidden bg-white border-t border-gray-100">
            <div class="px-4 py-3 space-y-3">
                <div class="flex items-center justify-between py-2 border-b border-gray-100">
                    <div class="flex items-center space-x-2 text-sm text-text-secondary">
                        <i class="fas fa-shopping-cart text-primary"></i>
                        <span id="mobileCartItemCount">0 itens</span>
                        <span class="text-primary font-semibold" id="mobileCartTotal">R$ 0,00</span>
                    </div>
                </div>
                <a href="/motoboys/register/" class="flex items-center text-text-secondary hover:text-primary transition-colors duration-200">
                    <i class="fas fa-user-plus mr-3"></i>Cadastro Motoboy
                </a>
                                 <a href="/login/" class="flex items-center text-text-secondary hover:text-primary transition-colors duration-200">
                     <i class="fas fa-shield-alt mr-3"></i>Admin Login
                 </a>
            </div>
        </div>

        <!-- Category Tabs -->
        <div class="border-t border-gray-100 bg-white">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex overflow-x-auto scrollbar-hide py-3 space-x-6" id="categoryTabs">
                    <button class="category-tab active flex-shrink-0 px-4 py-2 text-sm font-semibold rounded-full transition-all duration-200" data-category="all">
                        <i class="fas fa-utensils mr-2"></i>Todos
                    </button>
                    <button class="category-tab flex-shrink-0 px-4 py-2 text-sm font-semibold rounded-full transition-all duration-200" data-category="burgers">
                        <i class="fas fa-hamburger mr-2"></i>Hambúrgueres
                    </button>
                    <button class="category-tab flex-shrink-0 px-4 py-2 text-sm font-semibold rounded-full transition-all duration-200" data-category="pizzas">
                        <i class="fas fa-pizza-slice mr-2"></i>Pizzas
                    </button>
                    <button class="category-tab flex-shrink-0 px-4 py-2 text-sm font-semibold rounded-full transition-all duration-200" data-category="drinks">
                        <i class="fas fa-glass-cheers mr-2"></i>Bebidas
                    </button>
                    <button class="category-tab flex-shrink-0 px-4 py-2 text-sm font-semibold rounded-full transition-all duration-200" data-category="desserts">
                        <i class="fas fa-ice-cream mr-2"></i>Sobremesas
                    </button>
                    <button class="category-tab flex-shrink-0 px-4 py-2 text-sm font-semibold rounded-full transition-all duration-200" data-category="salads">
                        <i class="fas fa-leaf mr-2"></i>Saladas
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="flex-1 pb-24">
        <!-- Hero Section -->
        <section class="bg-gradient-to-r from-primary-50 to-accent-50 py-8">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center">
                    <h2 class="text-2xl md:text-3xl font-heading font-bold text-secondary mb-2">
                        Sabores que chegam até você
                    </h2>
                    <p class="text-text-secondary max-w-2xl mx-auto">
                        Descubra nossa seleção especial de pratos preparados com ingredientes frescos e entregues rapidamente na sua porta
                    </p>
                </div>
            </div>
        </section>

        <!-- Menu Items -->
        <section class="py-8">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div id="menuGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
                    <!-- Menu items will be dynamically loaded here -->
                </div>

                <!-- Loading State -->
                <div id="loadingState" class="text-center py-12">
                    <div class="inline-flex items-center space-x-2 text-text-secondary">
                        <i class="fas fa-spinner fa-spin text-primary"></i>
                        <span>Carregando cardápio...</span>
                    </div>
                </div>

                <!-- Empty State -->
                <div id="emptyState" class="hidden text-center py-12">
                    <div class="text-text-secondary">
                        <i class="fas fa-search text-4xl mb-4 opacity-50"></i>
                        <p class="text-lg mb-2">Nenhum item encontrado</p>
                        <p class="text-sm">Tente selecionar uma categoria diferente</p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Floating Cart Button -->
    <div id="floatingCart" class="fixed bottom-6 left-1/2 transform -translate-x-1/2 z-50 hidden">
        <button onclick="proceedToCheckout()" class="bg-primary text-white px-6 py-3 rounded-full shadow-floating flex items-center space-x-3 transition-all duration-200 hover:scale-105">
            <div class="flex items-center space-x-2">
                <i class="fas fa-shopping-cart"></i>
                <span id="floatingCartCount" class="bg-white text-primary px-2 py-1 rounded-full text-xs font-bold">0</span>
            </div>
            <span class="font-semibold">Finalizar Pedido</span>
            <span id="floatingCartTotal" class="font-bold">R$ 0,00</span>
        </button>
    </div>

    <!-- Item Detail Modal -->
    <div id="itemModal" class="fixed inset-0 z-50 hidden">
        <div class="fixed inset-0 bg-black bg-opacity-50 transition-opacity" onclick="closeItemModal()"></div>
        <div class="fixed inset-x-4 top-1/2 transform -translate-y-1/2 bg-white rounded-lg shadow-floating max-w-md mx-auto max-h-[90vh] overflow-y-auto">
            <div id="modalContent">
                <!-- Modal content will be dynamically loaded here -->
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-white border-t border-gray-100 py-6 mt-12">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center text-text-secondary text-sm">
                <p>&copy; 2025 MotoDelivery. Todos os direitos reservados.</p>
                <p class="mt-1">Delivery rápido e seguro em toda a cidade</p>
            </div>
        </div>
    </footer>

    <!-- JavaScript -->
    <script>
        // Menu data
        const menuItems = [
            // Hambúrgueres
            {
                id: 1,
                name: "X-Bacon Especial",
                description: "Hambúrguer artesanal com bacon crocante, queijo cheddar, alface, tomate e molho especial",
                price: 28.90,
                category: "burgers",
                image: "https://images.pexels.com/photos/1639557/pexels-photo-1639557.jpeg?auto=compress&cs=tinysrgb&w=500",
                popular: true
            },
            {
                id: 2,
                name: "Burger Clássico",
                description: "Hambúrguer tradicional com queijo, alface, tomate, cebola e molho da casa",
                price: 22.50,
                category: "burgers",
                image: "https://images.pixabay.com/photo/2020/10/05/19/55/hamburger-5630646_960_720.jpg"
            },
            {
                id: 3,
                name: "Veggie Burger",
                description: "Hambúrguer vegetariano com quinoa, cogumelos, queijo vegano e vegetais frescos",
                price: 26.90,
                category: "burgers",
                image: "https://images.unsplash.com/photo-1525059696034-4967a729002e?auto=format&fit=crop&w=500&q=80"
            },

            // Pizzas
            {
                id: 4,
                name: "Pizza Margherita",
                description: "Molho de tomate, mussarela de búfala, manjericão fresco e azeite extravirgem",
                price: 45.90,
                category: "pizzas",
                image: "https://images.pexels.com/photos/315755/pexels-photo-315755.jpeg?auto=compress&cs=tinysrgb&w=500",
                popular: true
            },
            {
                id: 5,
                name: "Pizza Pepperoni",
                description: "Molho de tomate, mussarela, pepperoni italiano e orégano",
                price: 52.90,
                category: "pizzas",
                image: "https://images.pixabay.com/photo/2017/12/09/08/18/pizza-3007395_960_720.jpg"
            },
            {
                id: 6,
                name: "Pizza Quatro Queijos",
                description: "Mussarela, gorgonzola, parmesão, provolone e molho branco",
                price: 48.90,
                category: "pizzas",
                image: "https://images.unsplash.com/photo-1513104890138-7c749659a591?auto=format&fit=crop&w=500&q=80"
            },

            // Bebidas
            {
                id: 7,
                name: "Refrigerante Lata",
                description: "Coca-Cola, Pepsi, Guaraná ou Fanta - 350ml gelado",
                price: 5.50,
                category: "drinks",
                image: "https://images.pexels.com/photos/50593/coca-cola-cold-drink-soft-drink-coke-50593.jpeg?auto=compress&cs=tinysrgb&w=500"
            },
            {
                id: 8,
                name: "Suco Natural",
                description: "Laranja, limão, maracujá ou acerola - 500ml fresquinho",
                price: 8.90,
                category: "drinks",
                image: "https://images.pixabay.com/photo/2017/05/12/08/29/smoothie-2306142_960_720.jpg"
            },
            {
                id: 9,
                name: "Água Mineral",
                description: "Água mineral sem gás - 500ml",
                price: 3.50,
                category: "drinks",
                image: "https://images.unsplash.com/photo-1559839734-2b71ea197ec2?auto=format&fit=crop&w=500&q=80"
            },

            // Sobremesas
            {
                id: 10,
                name: "Brownie com Sorvete",
                description: "Brownie de chocolate quente com sorvete de baunilha e calda de chocolate",
                price: 18.90,
                category: "desserts",
                image: "https://images.pexels.com/photos/291528/pexels-photo-291528.jpeg?auto=compress&cs=tinysrgb&w=500",
                popular: true
            },
            {
                id: 11,
                name: "Pudim de Leite",
                description: "Pudim caseiro cremoso com calda de caramelo",
                price: 12.90,
                category: "desserts",
                image: "https://images.pixabay.com/photo/2017/01/11/11/33/cake-1971552_960_720.jpg"
            },

            // Saladas
            {
                id: 12,
                name: "Salada Caesar",
                description: "Alface romana, croutons, parmesão, frango grelhado e molho caesar",
                price: 24.90,
                category: "salads",
                image: "https://images.unsplash.com/photo-1512621776951-a57141f2eefd?auto=format&fit=crop&w=500&q=80"
            },
            {
                id: 13,
                name: "Salada Tropical",
                description: "Mix de folhas, manga, abacaxi, castanhas e molho de maracujá",
                price: 22.90,
                category: "salads",
                image: "https://images.pexels.com/photos/1640777/pexels-photo-1640777.jpeg?auto=compress&cs=tinysrgb&w=500"
            }
        ];

        // Cart state
        let cart = [];
        let currentCategory = 'all';

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            loadMenuItems();
            setupCategoryTabs();
            updateCartDisplay();
        });

        // Mobile menu toggle
        function toggleMobileMenu() {
            const menu = document.getElementById('mobileMenu');
            menu.classList.toggle('hidden');
        }

        // Setup category tabs
        function setupCategoryTabs() {
            const tabs = document.querySelectorAll('.category-tab');
            tabs.forEach(tab => {
                tab.addEventListener('click', function() {
                    // Remove active class from all tabs
                    tabs.forEach(t => {
                        t.classList.remove('active', 'bg-primary', 'text-white');
                        t.classList.add('text-text-secondary', 'hover:text-primary', 'hover:bg-primary-50');
                    });
                    
                    // Add active class to clicked tab
                    this.classList.add('active', 'bg-primary', 'text-white');
                    this.classList.remove('text-text-secondary', 'hover:text-primary', 'hover:bg-primary-50');
                    
                    // Filter items
                    currentCategory = this.dataset.category;
                    loadMenuItems();
                });
            });

            // Set initial active state
            const activeTab = document.querySelector('.category-tab.active');
            activeTab.classList.add('bg-primary', 'text-white');
            activeTab.classList.remove('text-text-secondary');
        }

        // Load menu items
        function loadMenuItems() {
            const grid = document.getElementById('menuGrid');
            const loadingState = document.getElementById('loadingState');
            const emptyState = document.getElementById('emptyState');
            
            // Show loading
            loadingState.classList.remove('hidden');
            grid.innerHTML = '';
            emptyState.classList.add('hidden');
            
            // Filter items
            const filteredItems = currentCategory === 'all' 
                ? menuItems 
                : menuItems.filter(item => item.category === currentCategory);
            
            // Simulate loading delay
            setTimeout(() => {
                loadingState.classList.add('hidden');
                
                if (filteredItems.length === 0) {
                    emptyState.classList.remove('hidden');
                    return;
                }
                
                // Render items
                filteredItems.forEach(item => {
                    const itemCard = createItemCard(item);
                    grid.appendChild(itemCard);
                });
            }, 500);
        }

        // Create item card
        function createItemCard(item) {
            const card = document.createElement('div');
            card.className = 'card overflow-hidden cursor-pointer transition-all duration-200 hover:shadow-elevated';
            card.onclick = () => openItemModal(item);
            
            card.innerHTML = `
                <div class="relative">
                    <img 
                        src="${item.image}" 
                        alt="${item.name}"
                        class="w-full h-48 object-cover"
                        loading="lazy"
                        onerror="this.src='https://images.unsplash.com/photo-1584824486509-112e4181ff6b?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'; this.onerror=null;"
                    >
                    ${item.popular ? `
                        <div class="absolute top-3 left-3 bg-accent text-white px-2 py-1 rounded-full text-xs font-semibold">
                            <i class="fas fa-star mr-1"></i>Popular
                        </div>
                    ` : ''}
                </div>
                <div class="p-4">
                    <h3 class="font-heading font-semibold text-secondary mb-2">${item.name}</h3>
                    <p class="text-text-secondary text-sm mb-3 line-clamp-2">${item.description}</p>
                    <div class="flex items-center justify-between">
                        <span class="text-xl font-bold text-primary">R$ ${formatPrice(item.price)}</span>
                        <button 
                            onclick="event.stopPropagation(); quickAddToCart(${item.id})"
                            class="bg-primary text-white px-3 py-2 rounded-lg text-sm font-semibold transition-all duration-200 hover:scale-98 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-opacity-50"
                        >
                            <i class="fas fa-plus mr-1"></i>Adicionar
                        </button>
                    </div>
                </div>
            `;
            
            return card;
        }

        // Open item modal
        function openItemModal(item) {
            const modal = document.getElementById('itemModal');
            const modalContent = document.getElementById('modalContent');
            
            modalContent.innerHTML = `
                <div class="relative">
                    <img 
                        src="${item.image}" 
                        alt="${item.name}"
                        class="w-full h-64 object-cover"
                        onerror="this.src='https://images.unsplash.com/photo-1584824486509-112e4181ff6b?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'; this.onerror=null;"
                    >
                    <button 
                        onclick="closeItemModal()"
                        class="absolute top-4 right-4 bg-white text-gray-600 p-2 rounded-full shadow-md hover:bg-gray-50 transition-colors duration-200"
                    >
                        <i class="fas fa-times"></i>
                    </button>
                    ${item.popular ? `
                        <div class="absolute top-4 left-4 bg-accent text-white px-3 py-1 rounded-full text-sm font-semibold">
                            <i class="fas fa-star mr-1"></i>Popular
                        </div>
                    ` : ''}
                </div>
                <div class="p-6">
                    <h2 class="text-2xl font-heading font-bold text-secondary mb-2">${item.name}</h2>
                    <p class="text-text-secondary mb-4">${item.description}</p>
                    <div class="flex items-center justify-between mb-6">
                        <span class="text-3xl font-bold text-primary">R$ ${formatPrice(item.price)}</span>
                        <div class="flex items-center space-x-3">
                            <button 
                                onclick="updateModalQuantity(${item.id}, -1)"
                                class="bg-gray-100 text-gray-600 p-2 rounded-lg hover:bg-gray-200 transition-colors duration-200"
                            >
                                <i class="fas fa-minus"></i>
                            </button>
                            <span id="modalQuantity-${item.id}" class="text-xl font-semibold text-secondary px-4">1</span>
                            <button 
                                onclick="updateModalQuantity(${item.id}, 1)"
                                class="bg-gray-100 text-gray-600 p-2 rounded-lg hover:bg-gray-200 transition-colors duration-200"
                            >
                                <i class="fas fa-plus"></i>
                            </button>
                        </div>
                    </div>
                    <button 
                        onclick="addToCartFromModal(${item.id})"
                        class="w-full btn-primary flex items-center justify-center space-x-2"
                    >
                        <i class="fas fa-shopping-cart"></i>
                        <span>Adicionar ao Carrinho</span>
                        <span id="modalTotalPrice-${item.id}" class="font-bold">R$ ${formatPrice(item.price)}</span>
                    </button>
                </div>
            `;
            
            modal.classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        }

        // Close item modal
        function closeItemModal() {
            const modal = document.getElementById('itemModal');
            modal.classList.add('hidden');
            document.body.style.overflow = 'auto';
        }

        // Update modal quantity
        function updateModalQuantity(itemId, change) {
            const quantityElement = document.getElementById(`modalQuantity-${itemId}`);
            const totalPriceElement = document.getElementById(`modalTotalPrice-${itemId}`);
            const item = menuItems.find(i => i.id === itemId);
            
            let currentQuantity = parseInt(quantityElement.textContent);
            currentQuantity = Math.max(1, currentQuantity + change);
            
            quantityElement.textContent = currentQuantity;
            totalPriceElement.textContent = `R$ ${formatPrice(item.price * currentQuantity)}`;
        }

        // Quick add to cart
        function quickAddToCart(itemId) {
            const item = menuItems.find(i => i.id === itemId);
            addToCart(item, 1);
            showNotification(`${item.name} adicionado ao carrinho!`, 'success');
        }

        // Add to cart from modal
        function addToCartFromModal(itemId) {
            const item = menuItems.find(i => i.id === itemId);
            const quantity = parseInt(document.getElementById(`modalQuantity-${itemId}`).textContent);
            
            addToCart(item, quantity);
            closeItemModal();
            showNotification(`${quantity}x ${item.name} adicionado ao carrinho!`, 'success');
        }

        // Add to cart
        function addToCart(item, quantity) {
            const existingItem = cart.find(cartItem => cartItem.id === item.id);
            
            if (existingItem) {
                existingItem.quantity += quantity;
            } else {
                cart.push({
                    ...item,
                    quantity: quantity
                });
            }
            
            updateCartDisplay();
        }

        // Update cart display
        function updateCartDisplay() {
            const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
            const totalPrice = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            
            // Update all cart displays
            document.getElementById('cartItemCount').textContent = `${totalItems} ${totalItems === 1 ? 'item' : 'itens'}`;
            document.getElementById('cartTotal').textContent = `R$ ${formatPrice(totalPrice)}`;
            document.getElementById('mobileCartItemCount').textContent = `${totalItems} ${totalItems === 1 ? 'item' : 'itens'}`;
            document.getElementById('mobileCartTotal').textContent = `R$ ${formatPrice(totalPrice)}`;
            
            // Floating cart
            const floatingCart = document.getElementById('floatingCart');
            const floatingCartCount = document.getElementById('floatingCartCount');
            const floatingCartTotal = document.getElementById('floatingCartTotal');
            
            if (totalItems > 0) {
                floatingCart.classList.remove('hidden');
                floatingCartCount.textContent = totalItems;
                floatingCartTotal.textContent = `R$ ${formatPrice(totalPrice)}`;
            } else {
                floatingCart.classList.add('hidden');
            }
        }

        // Proceed to checkout
        function proceedToCheckout() {
            if (cart.length === 0) {
                showNotification('Seu carrinho está vazio!', 'error');
                return;
            }
            
            // Store cart in localStorage
            localStorage.setItem('orderCart', JSON.stringify(cart));
            
            // Redirect to checkout
            window.location.href = '/orders/create/';
        }

        // Format price
        function formatPrice(price) {
            return price.toLocaleString('pt-BR', {
                minimumFractionDigits: 2,
                maximumFractionDigits: 2
            });
        }

        // Notification system
        function showNotification(message, type) {
            const notification = document.createElement('div');
            notification.className = `fixed top-4 right-4 z-50 p-4 rounded-lg shadow-floating transition-all duration-300 transform translate-x-full`;
            
            if (type === 'success') {
                notification.classList.add('bg-success-100', 'text-success-800', 'border', 'border-success-200');
                notification.innerHTML = `<i class="fas fa-check-circle mr-2"></i>${message}`;
            } else {
                notification.classList.add('bg-error-100', 'text-error-800', 'border', 'border-error-200');
                notification.innerHTML = `<i class="fas fa-exclamation-circle mr-2"></i>${message}`;
            }
            
            document.body.appendChild(notification);
            
            // Animate in
            setTimeout(() => {
                notification.classList.remove('translate-x-full');
            }, 100);
            
            // Remove after 3 seconds
            setTimeout(() => {
                notification.classList.add('translate-x-full');
                setTimeout(() => {
                    if (document.body.contains(notification)) {
                        document.body.removeChild(notification);
                    }
                }, 300);
            }, 3000);
        }

        // Close modal on escape key
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape') {
                closeItemModal();
            }
        });

        // Scrollbar hide utility
        const style = document.createElement('style');
        style.textContent = `
            .scrollbar-hide {
                -ms-overflow-style: none;
                scrollbar-width: none;
            }
            .scrollbar-hide::-webkit-scrollbar {
                display: none;
            }
            .line-clamp-2 {
                display: -webkit-box;
                -webkit-line-clamp: 2;
                -webkit-box-orient: vertical;
                overflow: hidden;
            }
        `;
        document.head.appendChild(style);
    </script>

</body>
</html>